/*
 * Install the Generative AI SDK
 *
 * $ npm install @google/generative-ai
 *
 * See the getting started guide for more information
 * https://ai.google.dev/gemini-api/docs/get-started/node
 */

const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } = require("@google/generative-ai");
  
  const apiKey = "AIzaSyAYPSJ6_XbMIenoh8T2Sjv32CeBgXdOUsE";
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };

  export  const chatSession = model.startChat({
      generationConfig,
   // safetySettings: Adjust safety settings
   // See https://ai.google.dev/gemini-api/docs/safety-settings
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan from kolkata to New York, NY, USA.\nTravel date - 2024-08-20 to 2024-08-24. Traveler details - A Couple , total number of person 2 , with a Luxury budget .\nCreate a Json that includes travel mode prefer flight , travel mode details ( flight Price with Booking url,cost, date time ) . Hotel options , with details - hotelName , address , price , rating , google map Plus Code , description .\nCreate a day wise plan to visit place , best time to visit , ticket price ,with a Flight details, Flight Price with Booking url, Hotels options list with HotelName, Hotel address, Price,  google map Plus Code, rating, descriptions and Places to visit nearby with placeName, Place , place image url , place details , geo Coordinates ."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"travelPlan\": {\n    \"travelDate\": \"2024-08-20\",\n    \"returnDate\": \"2024-08-24\",\n    \"travelers\": 2,\n    \"budget\": \"Luxury\",\n    \"flight\": {\n      \"mode\": \"Flight\",\n      \"details\": {\n        \"airline\": \"Emirates\",\n        \"flightNumber\": \"EK519\",\n        \"departureDate\": \"2024-08-20\",\n        \"departureTime\": \"10:00 AM\",\n        \"arrivalDate\": \"2024-08-20\",\n        \"arrivalTime\": \"05:00 PM\",\n        \"price\": \"$1500\",\n        \"bookingUrl\": \"https://www.emirates.com/us/english/\"\n      }\n    },\n    \"hotel\": {\n      \"options\": [\n        {\n          \"hotelName\": \"The Peninsula New York\",\n          \"address\": \"700 Fifth Avenue, New York, NY 10019, United States\",\n          \"price\": \"$1500+\",\n          \"rating\": 4.5,\n          \"googleMapPlusCode\": \"87R4+6R New York, NY, USA\",\n          \"description\": \"A luxurious hotel with stunning views of Central Park, known for its impeccable service and elegant rooms.\"\n        },\n        {\n          \"hotelName\": \"The Ritz-Carlton New York, Central Park\",\n          \"address\": \"50 Central Park South, New York, NY 10019, United States\",\n          \"price\": \"$1200+\",\n          \"rating\": 4.6,\n          \"googleMapPlusCode\": \"87R4+9M New York, NY, USA\",\n          \"description\": \"An iconic hotel located in the heart of Manhattan, offering breathtaking views of Central Park and luxurious amenities.\"\n        },\n        {\n          \"hotelName\": \"The St. Regis New York\",\n          \"address\": \"2 East 55th Street, New York, NY 10022, United States\",\n          \"price\": \"$1000+\",\n          \"rating\": 4.7,\n          \"googleMapPlusCode\": \"87R4+7M New York, NY, USA\",\n          \"description\": \"A historic hotel with a renowned butler service, known for its elegant rooms and refined atmosphere.\"\n        }\n      ]\n    },\n    \"itinerary\": [\n      {\n        \"day\": \"Day 1: Arrival in New York City\",\n        \"activities\": [\n          {\n            \"placeName\": \"Times Square\",\n            \"place\": \"Iconic intersection known for its bright lights and bustling atmosphere\",\n            \"placeImageUrl\": \"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.timeout.com%2Fnewyork%2Fthings-to-do%2Ftimes-square&psig=AOvVaw0o63a8451k75N306U9207Q&ust=1700181220365000&source=images&cd=vfe&ved=0CA0QjRxqFwoTCNCZ9qH8j_4CFQAAAAAdAAAAABAJ\",\n            \"placeDetails\": \"Explore the heart of New York City, where Broadway theaters, restaurants, and entertainment venues converge.\",\n            \"geoCoordinates\": \"40.7580, -73.9855\",\n            \"bestTime\": \"Evening for the dazzling lights\",\n            \"ticketPrice\": \"Free\"\n          },\n          {\n            \"placeName\": \"Top of the Rock\",\n            \"place\": \"Observation deck offering panoramic views of the city\",\n            \"placeImageUrl\": \"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.topoftherocknyc.com%2F&psig=AOvVaw1jXv1nR0r9i-f_cW_p0K5b&ust=1700181220371000&source=images&cd=vfe&ved=0CA0QjRxqFwoTCPCZ9qH8j_4CFQAAAAAdAAAAABAD\",\n            \"placeDetails\": \"Experience breathtaking views of Central Park, the Empire State Building, and the city skyline.\",\n            \"geoCoordinates\": \"40.7581, -73.9802\",\n            \"bestTime\": \"Sunset for golden hour\",\n            \"ticketPrice\": \"$36\"\n          }\n        ],\n        \"flightDetails\": {\n          \"airline\": \"Emirates\",\n          \"flightNumber\": \"EK519\",\n          \"departureDate\": \"2024-08-20\",\n          \"departureTime\": \"10:00 AM\",\n          \"arrivalDate\": \"2024-08-20\",\n          \"arrivalTime\": \"05:00 PM\",\n          \"price\": \"$1500\",\n          \"bookingUrl\": \"https://www.emirates.com/us/english/\"\n        },\n        \"hotelOptions\": [\n          {\n            \"hotelName\": \"The Peninsula New York\",\n            \"address\": \"700 Fifth Avenue, New York, NY 10019, United States\",\n            \"price\": \"$1500+\",\n            \"rating\": 4.5,\n            \"googleMapPlusCode\": \"87R4+6R New York, NY, USA\",\n            \"description\": \"A luxurious hotel with stunning views of Central Park, known for its impeccable service and elegant rooms.\"\n          },\n          {\n            \"hotelName\": \"The Ritz-Carlton New York, Central Park\",\n            \"address\": \"50 Central Park South, New York, NY 10019, United States\",\n            \"price\": \"$1200+\",\n            \"rating\": 4.6,\n            \"googleMapPlusCode\": \"87R4+9M New York, NY, USA\",\n            \"description\": \"An iconic hotel located in the heart of Manhattan, offering breathtaking views of Central Park and luxurious amenities.\"\n          }\n        ]\n      },\n      {\n        \"day\": \"Day 2: Exploring Central Park and Culture\",\n        \"activities\": [\n          {\n            \"placeName\": \"Central Park\",\n            \"place\": \"Vast urban oasis offering diverse activities and scenic beauty\",\n            \"placeImageUrl\": \"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.centralpark.com%2F&psig=AOvVaw3fX6k4mG0_X1h56N2p86-8&ust=1700181220378000&source=images&cd=vfe&ved=0CA0QjRxqFwoTCN6F9qH8j_4CFQAAAAAdAAAAABAD\",\n            \"placeDetails\": \"Enjoy a leisurely stroll, bike ride, boat ride, or picnic in this iconic park.\",\n            \"geoCoordinates\": \"40.7829, -73.9654\",\n            \"bestTime\": \"Daytime for a variety of activities\",\n            \"ticketPrice\": \"Free\"\n          },\n          {\n            \"placeName\": \"The Metropolitan Museum of Art\",\n            \"place\": \"World-renowned art museum featuring a vast collection of masterpieces\",\n            \"placeImageUrl\": \"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.metmuseum.org%2F&psig=AOvVaw1_zK4qN8Q_o4f0g-y4kZ9o&ust=1700181220385000&source=images&cd=vfe&ved=0CA0QjRxqFwoTCOCF9qH8j_4CFQAAAAAdAAAAABAD\",\n            \"placeDetails\": \"Explore ancient Egyptian artifacts, European paintings, and modern art in this vast museum.\",\n            \"geoCoordinates\": \"40.7794, -73.9632\",\n            \"bestTime\": \"Daytime for a comprehensive visit\",\n            \"ticketPrice\": \"Suggested donation\"\n          }\n        ],\n        \"hotelOptions\": [\n          {\n            \"hotelName\": \"The St. Regis New York\",\n            \"address\": \"2 East 55th Street, New York, NY 10022, United States\",\n            \"price\": \"$1000+\",\n            \"rating\": 4.7,\n            \"googleMapPlusCode\": \"87R4+7M New York, NY, USA\",\n            \"description\": \"A historic hotel with a renowned butler service, known for its elegant rooms and refined atmosphere.\"\n          }\n        ]\n      },\n      {\n        \"day\": \"Day 3: Shopping and Culinary Delights\",\n        \"activities\": [\n          {\n            \"placeName\": \"Fifth Avenue\",\n            \"place\": \"World-famous shopping street lined with luxury boutiques\",\n            \"placeImageUrl\": \"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.timeout.com%2Fnewyork%2Fthings-to-do%2Ffifth-avenue&psig=AOvVaw14H_s72qX36fO39d0i9Z3L&ust=1700181220392000&source=images&cd=vfe&ved=0CA0QjRxqFwoTCPDH9qH8j_4CFQAAAAAdAAAAABAD\",\n            \"placeDetails\": \"Browse high-end fashion, jewelry, and department stores along this iconic avenue.\",\n            \"geoCoordinates\": \"40.7589, -73.9702\",\n            \"bestTime\": \"Daytime for shopping\",\n            \"ticketPrice\": \"Free\"\n          },\n          {\n            \"placeName\": \"Chelsea Market\",\n            \"place\": \"Gourmet food hall with a wide variety of culinary experiences\",\n            \"placeImageUrl\": \"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.chelseamarket.com%2F&psig=AOvVaw3e4_H0i028d2z_p88xQ_J&ust=1700181220399000&source=images&cd=vfe&ved=0CA0QjRxqFwoTCPEH9qH8j_4CFQAAAAAdAAAAABAD\",\n            \"placeDetails\": \"Sample artisanal cheeses, fresh seafood, and international cuisine in this vibrant market.\",\n            \"geoCoordinates\": \"40.7414, -74.0062\",\n            \"bestTime\": \"Lunch or dinner for a culinary adventure\",\n            \"ticketPrice\": \"Free\"\n          }\n        ],\n        \"hotelOptions\": [\n          {\n            \"hotelName\": \"The Peninsula New York\",\n            \"address\": \"700 Fifth Avenue, New York, NY 10019, United States\",\n            \"price\": \"$1500+\",\n            \"rating\": 4.5,\n            \"googleMapPlusCode\": \"87R4+6R New York, NY, USA\",\n            \"description\": \"A luxurious hotel with stunning views of Central Park, known for its impeccable service and elegant rooms.\"\n          }\n        ]\n      },\n      {\n        \"day\": \"Day 4: Brooklyn and Departure\",\n        \"activities\": [\n          {\n            \"placeName\": \"Brooklyn Bridge\",\n            \"place\": \"Iconic suspension bridge connecting Manhattan and Brooklyn\",\n            \"placeImageUrl\": \"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.nycgovparks.org%2Fparks%2Fbrooklyn-bridge-park&psig=AOvVaw0wB3u0T_yY7f_52g7zB4O&ust=1700181220406000&source=images&cd=vfe&ved=0CA0QjRxqFwoTCJFj9qH8j_4CFQAAAAAdAAAAABAD\",\n            \"placeDetails\": \"Walk or bike across this architectural marvel for stunning views of the city.\",\n            \"geoCoordinates\": \"40.7028, -73.9962\",\n            \"bestTime\": \"Daytime for clear views\",\n            \"ticketPrice\": \"Free\"\n          },\n          {\n            \"placeName\": \"DUMBO\",\n            \"place\": \"Historic neighborhood in Brooklyn known for its art scene and waterfront views\",\n            \"placeImageUrl\": \"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.timeout.com%2Fnewyork%2Fthings-to-do%2Fdumbo&psig=AOvVaw2N2Z08v8-hJ02iZ5HqU_k&ust=1700181220413000&source=images&cd=vfe&ved=0CA0QjRxqFwoTCJjG9qH8j_4CFQAAAAAdAAAAABAD\",\n            \"placeDetails\": \"Explore art galleries, boutiques, and enjoy the waterfront views of the Manhattan skyline.\",\n            \"geoCoordinates\": \"40.7024, -73.9901\",\n            \"bestTime\": \"Daytime for a leisurely stroll\",\n            \"ticketPrice\": \"Free\"\n          }\n        ],\n        \"flightDetails\": {\n          \"airline\": \"Emirates\",\n          \"flightNumber\": \"EK520\",\n          \"departureDate\": \"2024-08-24\",\n          \"departureTime\": \"08:00 PM\",\n          \"arrivalDate\": \"2024-08-25\",\n          \"arrivalTime\": \"03:00 AM\",\n          \"price\": \"$1500\",\n          \"bookingUrl\": \"https://www.emirates.com/us/english/\"\n        }\n      }\n    ]\n  }\n}\n```\n\n**Notes:**\n\n* This plan is a suggestion and can be customized based on the couple's interests and preferences.\n* Prices are approximate and subject to change.\n* The itinerary is designed for a luxury experience with a focus on iconic attractions and high-end accommodations.\n* Consider booking flights and hotels in advance, especially for peak seasons.\n* Allow ample time for transportation between attractions, especially in NYC.\n* Enjoy your trip! \n"},
          ],
        },
      ],
    });
  
    // const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
    // console.log(result.response.text());
 